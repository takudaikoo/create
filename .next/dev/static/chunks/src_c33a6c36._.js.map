{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Section.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"container\": \"Section-module__A23O5q__container\",\n  \"fullHeight\": \"Section-module__A23O5q__fullHeight\",\n  \"section\": \"Section-module__A23O5q__section\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 12, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/Create/src/components/Section.tsx"],"sourcesContent":["import React from 'react';\r\nimport styles from './Section.module.css';\r\n\r\ninterface SectionProps {\r\n    children: React.ReactNode;\r\n    className?: string;\r\n    id?: string;\r\n    fullHeight?: boolean;\r\n}\r\n\r\nexport default function Section({ children, className = '', id, fullHeight = false }: SectionProps) {\r\n    return (\r\n        <section\r\n            id={id}\r\n            className={`${styles.section} ${fullHeight ? styles.fullHeight : ''} ${className}`}\r\n        >\r\n            <div className={styles.container}>\r\n                {children}\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;;;AASe,SAAS,QAAQ,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAE,EAAE,EAAE,aAAa,KAAK,EAAgB;IAC9F,qBACI,6LAAC;QACG,IAAI;QACJ,WAAW,GAAG,sJAAM,CAAC,OAAO,CAAC,CAAC,EAAE,aAAa,sJAAM,CAAC,UAAU,GAAG,GAAG,CAAC,EAAE,WAAW;kBAElF,cAAA,6LAAC;YAAI,WAAW,sJAAM,CAAC,SAAS;sBAC3B;;;;;;;;;;;AAIjB;KAXwB"}},
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/ProcessFAQ.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"dot\": \"ProcessFAQ-module__W440OW__dot\",\n  \"faqAnswer\": \"ProcessFAQ-module__W440OW__faqAnswer\",\n  \"faqItem\": \"ProcessFAQ-module__W440OW__faqItem\",\n  \"faqQuestion\": \"ProcessFAQ-module__W440OW__faqQuestion\",\n  \"faqSection\": \"ProcessFAQ-module__W440OW__faqSection\",\n  \"finalButton\": \"ProcessFAQ-module__W440OW__finalButton\",\n  \"finalCtaContent\": \"ProcessFAQ-module__W440OW__finalCtaContent\",\n  \"finalCtaSection\": \"ProcessFAQ-module__W440OW__finalCtaSection\",\n  \"finalNote\": \"ProcessFAQ-module__W440OW__finalNote\",\n  \"finalTitle\": \"ProcessFAQ-module__W440OW__finalTitle\",\n  \"line\": \"ProcessFAQ-module__W440OW__line\",\n  \"open\": \"ProcessFAQ-module__W440OW__open\",\n  \"processSection\": \"ProcessFAQ-module__W440OW__processSection\",\n  \"processSteps\": \"ProcessFAQ-module__W440OW__processSteps\",\n  \"step\": \"ProcessFAQ-module__W440OW__step\",\n  \"stepNum\": \"ProcessFAQ-module__W440OW__stepNum\",\n  \"stepTitle\": \"ProcessFAQ-module__W440OW__stepTitle\",\n  \"title\": \"ProcessFAQ-module__W440OW__title\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/Create/src/components/ProcessFAQ.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from 'react';\r\nimport Section from './Section';\r\nimport styles from './ProcessFAQ.module.css';\r\n\r\nconst STEPS = [\r\n    { title: 'ヒアリング・戦略策定', num: '01' },\r\n    { title: 'ロケーション・絵コンテ', num: '02' },\r\n    { title: '撮影（ドローン/地上波）', num: '03' },\r\n    { title: '編集・納品', num: '04' },\r\n];\r\n\r\nexport default function ProcessFAQ() {\r\n    const [faqOpen, setFaqOpen] = useState(false);\r\n\r\n    return (\r\n        <>\r\n            <Section className={styles.processSection}>\r\n                <h2 className={styles.title}>至高のアウトプットを生む、4つのプロセス。</h2>\r\n                <div className={styles.processSteps}>\r\n                    <div className={styles.line}></div>\r\n                    {STEPS.map((step, i) => (\r\n                        <div key={i} className={styles.step}>\r\n                            <div className={styles.stepNum}>Step.{step.num}</div>\r\n                            <div className={styles.stepTitle}>{step.title}</div>\r\n                            <div className={styles.dot}></div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </Section>\r\n\r\n            <Section className={styles.faqSection}>\r\n                <div className={styles.faqItem}>\r\n                    <button className={styles.faqQuestion} onClick={() => setFaqOpen(!faqOpen)}>\r\n                        <span>Q. 予算はどのくらい必要ですか？</span>\r\n                        <span>{faqOpen ? '−' : '＋'}</span>\r\n                    </button>\r\n                    <div className={`${styles.faqAnswer} ${faqOpen ? styles.open : ''}`}>\r\n                        <p>\r\n                            私たちは安さを売りにしていません。しかし、得られるブランドリフト効果（資産価値）を考えれば、\r\n                            最もコストパフォーマンスの高い投資となります。詳細はお問い合わせください。\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </Section>\r\n\r\n            <Section className={styles.finalCtaSection} id=\"contact\">\r\n                <div className={styles.finalCtaContent}>\r\n                    <h2 className={styles.finalTitle}>あなたのビジネスは、もっと美しくなれる。</h2>\r\n                    <p className={styles.finalNote}>\r\n                        制作枠には限りがあります。クオリティ維持のため、月間5社のみの受付とさせていただいております。\r\n                    </p>\r\n                    <a href=\"mailto:contact@example.com\" className={styles.finalButton}>\r\n                        今すぐ戦略ミーティングを予約する\r\n                    </a>\r\n                </div>\r\n            </Section>\r\n        </>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMA,MAAM,QAAQ;IACV;QAAE,OAAO;QAAc,KAAK;IAAK;IACjC;QAAE,OAAO;QAAe,KAAK;IAAK;IAClC;QAAE,OAAO;QAAgB,KAAK;IAAK;IACnC;QAAE,OAAO;QAAS,KAAK;IAAK;CAC/B;AAEc,SAAS;;IACpB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,qBACI;;0BACI,6LAAC,2IAAO;gBAAC,WAAW,yJAAM,CAAC,cAAc;;kCACrC,6LAAC;wBAAG,WAAW,yJAAM,CAAC,KAAK;kCAAE;;;;;;kCAC7B,6LAAC;wBAAI,WAAW,yJAAM,CAAC,YAAY;;0CAC/B,6LAAC;gCAAI,WAAW,yJAAM,CAAC,IAAI;;;;;;4BAC1B,MAAM,GAAG,CAAC,CAAC,MAAM,kBACd,6LAAC;oCAAY,WAAW,yJAAM,CAAC,IAAI;;sDAC/B,6LAAC;4CAAI,WAAW,yJAAM,CAAC,OAAO;;gDAAE;gDAAM,KAAK,GAAG;;;;;;;sDAC9C,6LAAC;4CAAI,WAAW,yJAAM,CAAC,SAAS;sDAAG,KAAK,KAAK;;;;;;sDAC7C,6LAAC;4CAAI,WAAW,yJAAM,CAAC,GAAG;;;;;;;mCAHpB;;;;;;;;;;;;;;;;;0BAStB,6LAAC,2IAAO;gBAAC,WAAW,yJAAM,CAAC,UAAU;0BACjC,cAAA,6LAAC;oBAAI,WAAW,yJAAM,CAAC,OAAO;;sCAC1B,6LAAC;4BAAO,WAAW,yJAAM,CAAC,WAAW;4BAAE,SAAS,IAAM,WAAW,CAAC;;8CAC9D,6LAAC;8CAAK;;;;;;8CACN,6LAAC;8CAAM,UAAU,MAAM;;;;;;;;;;;;sCAE3B,6LAAC;4BAAI,WAAW,GAAG,yJAAM,CAAC,SAAS,CAAC,CAAC,EAAE,UAAU,yJAAM,CAAC,IAAI,GAAG,IAAI;sCAC/D,cAAA,6LAAC;0CAAE;;;;;;;;;;;;;;;;;;;;;;0BAQf,6LAAC,2IAAO;gBAAC,WAAW,yJAAM,CAAC,eAAe;gBAAE,IAAG;0BAC3C,cAAA,6LAAC;oBAAI,WAAW,yJAAM,CAAC,eAAe;;sCAClC,6LAAC;4BAAG,WAAW,yJAAM,CAAC,UAAU;sCAAE;;;;;;sCAClC,6LAAC;4BAAE,WAAW,yJAAM,CAAC,SAAS;sCAAE;;;;;;sCAGhC,6LAAC;4BAAE,MAAK;4BAA6B,WAAW,yJAAM,CAAC,WAAW;sCAAE;;;;;;;;;;;;;;;;;;;AAOxF;GA/CwB;KAAA"}},
    {"offset": {"line": 286, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/Create/src/store/useStore.ts"],"sourcesContent":["import { create } from 'zustand';\r\n\r\ntype Direction = 'up' | 'down';\r\n\r\ninterface StoreState {\r\n    currentSection: number;\r\n    direction: Direction;\r\n    isAnimating: boolean;\r\n    totalSections: number;\r\n    setTotalSections: (count: number) => void;\r\n    nextSection: () => void;\r\n    prevSection: () => void;\r\n    setAnimating: (isAnimating: boolean) => void;\r\n}\r\n\r\nexport const useStore = create<StoreState>((set, get) => ({\r\n    currentSection: 0,\r\n    direction: 'down',\r\n    isAnimating: false,\r\n    totalSections: 0,\r\n\r\n    setTotalSections: (count: number) => set({ totalSections: count }),\r\n\r\n    setAnimating: (isAnimating: boolean) => set({ isAnimating }),\r\n\r\n    nextSection: () => {\r\n        const { currentSection, totalSections, isAnimating } = get();\r\n        if (currentSection < totalSections - 1 && !isAnimating) {\r\n            set({ direction: 'down', isAnimating: true });\r\n        }\r\n    },\r\n\r\n    prevSection: () => {\r\n        const { currentSection, isAnimating } = get();\r\n        if (currentSection > 0 && !isAnimating) {\r\n            set({ direction: 'up', isAnimating: true });\r\n        }\r\n    },\r\n}));\r\n\r\n// We'll need a way to commit the section change halfway through the animation\r\n// Adding a specific action for that\r\n// Section change is now driven purely by state + animation libraries\r\n// No manual commit needed for Framer Motion\r\n\r\n"],"names":[],"mappings":";;;;AAAA;;AAeO,MAAM,WAAW,IAAA,qJAAM,EAAa,CAAC,KAAK,MAAQ,CAAC;QACtD,gBAAgB;QAChB,WAAW;QACX,aAAa;QACb,eAAe;QAEf,kBAAkB,CAAC,QAAkB,IAAI;gBAAE,eAAe;YAAM;QAEhE,cAAc,CAAC,cAAyB,IAAI;gBAAE;YAAY;QAE1D,aAAa;YACT,MAAM,EAAE,cAAc,EAAE,aAAa,EAAE,WAAW,EAAE,GAAG;YACvD,IAAI,iBAAiB,gBAAgB,KAAK,CAAC,aAAa;gBACpD,IAAI;oBAAE,WAAW;oBAAQ,aAAa;gBAAK;YAC/C;QACJ;QAEA,aAAa;YACT,MAAM,EAAE,cAAc,EAAE,WAAW,EAAE,GAAG;YACxC,IAAI,iBAAiB,KAAK,CAAC,aAAa;gBACpC,IAAI;oBAAE,WAAW;oBAAM,aAAa;gBAAK;YAC7C;QACJ;IACJ,CAAC,IAED,8EAA8E;CAC9E,oCAAoC;CACpC,qEAAqE;CACrE,4CAA4C"}},
    {"offset": {"line": 332, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/Create/src/components/Three/WipeEffect.tsx"],"sourcesContent":["import React, { useRef, useMemo } from 'react';\r\nimport { useFrame, useThree } from '@react-three/fiber';\r\nimport * as THREE from 'three';\r\nimport { useStore, commitSectionChange } from '@/store/useStore';\r\nimport { Plane } from '@react-three/drei';\r\n\r\nconst WipeShaderMaterial = {\r\n    uniforms: {\r\n        uTime: { value: 0 },\r\n        uProgress: { value: 0 },\r\n        uColor: { value: new THREE.Color('#000000') },\r\n        uResolution: { value: new THREE.Vector2(0, 0) },\r\n    },\r\n    vertexShader: `\r\n    varying vec2 vUv;\r\n    void main() {\r\n      vUv = uv;\r\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n    }\r\n  `,\r\n    fragmentShader: `\r\n    uniform float uProgress;\r\n    uniform vec3 uColor;\r\n    varying vec2 vUv;\r\n\r\n    // Pseudo-random noise\r\n    float random(vec2 st) {\r\n        return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123);\r\n    }\r\n\r\n    void main() {\r\n      // \"Alternating\" (Kougo) Effect with Creative Style\r\n      \r\n      // We divide the screen into two halves: Left (y < 0.5?) No, Left (x < 0.5) and Right (x > 0.5).\r\n      // Or we alternate strips.\r\n      // Let's stick thereto: Left Block and Right Block coming together.\r\n      \r\n      // Coordinate manipulation\r\n      // Add some noise to the edges\r\n      float noiseVal = random(vec2(vUv.y * 100.0, uProgress)) * 0.05;\r\n      \r\n      // Animation Progress\r\n      float p = uProgress;\r\n      float alpha = 0.0;\r\n      \r\n      // Split into two halves\r\n      // Left side (Top-Left to Bottom-Right angle?)\r\n      // Let's do a clean angular cut.\r\n      // Left side comes from -x to 0.5\r\n      // Right side comes from 1.0+x to 0.5\r\n      \r\n      // Dynamic Progress:\r\n      // 0.0 -> 0.5: In\r\n      // 0.5: Held\r\n      // 0.5 -> 1.0: Out\r\n      \r\n      float limit = 0.0;\r\n      \r\n      // In Phase\r\n      if (p <= 0.5) {\r\n        float t = p * 2.0; // 0 -> 1\r\n        \r\n        // Left Shutter\r\n        float leftPos = t * 0.5; // 0 -> 0.5\r\n        // Right Shutter\r\n        float rightPos = 1.0 - (t * 0.5); // 1.0 -> 0.5\r\n        \r\n        if (vUv.x < leftPos + noiseVal || vUv.x > rightPos - noiseVal) {\r\n            alpha = 1.0;\r\n        }\r\n      } \r\n      // Out Phase\r\n      else {\r\n        float t = (p - 0.5) * 2.0; // 0 -> 1\r\n        \r\n        // They retract back?\r\n        // Or cross over? Let's cross over for \"Alternating/Kougo\" feeling.\r\n        // Wait, \"Kougo\" often implies A then B.\r\n        // But requested is \"Left/Right Kougo Wipe\".\r\n        // Let's make them retract to reveal new content.\r\n        \r\n        float leftPos = 0.5 - (t * 0.5); // 0.5 -> 0.0\r\n        float rightPos = 0.5 + (t * 0.5); // 0.5 -> 1.0\r\n        \r\n        if (vUv.x < leftPos + noiseVal || vUv.x > rightPos - noiseVal) {\r\n            alpha = 1.0;\r\n        }\r\n      }\r\n      \r\n      // Color tint based on progress (subtle)\r\n      vec3 finalColor = uColor;\r\n      \r\n      gl_FragColor = vec4(finalColor, alpha);\r\n    }\r\n  `\r\n};\r\n\r\nexport function WipeEffect() {\r\n    const meshRef = useRef<THREE.Mesh>(null);\r\n    const shaderRef = useRef<THREE.ShaderMaterial>(null);\r\n    const { viewport } = useThree();\r\n    const isAnimating = useStore((state) => state.isAnimating);\r\n    const setAnimating = useStore((state) => state.setAnimating);\r\n\r\n    // Animation state\r\n    const progress = useRef(0);\r\n    const speed = 1.5; // Multiplier for delta time\r\n\r\n    useFrame((state, delta) => {\r\n        // Safety check: if not animating, ensure progress is 0\r\n        if (!isAnimating) {\r\n            if (progress.current !== 0) {\r\n                progress.current = 0;\r\n                if (shaderRef.current) {\r\n                    shaderRef.current.uniforms.uProgress.value = 0;\r\n                }\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (isAnimating) {\r\n            progress.current += delta * speed;\r\n\r\n            // Midpoint trigger\r\n            if (progress.current >= 0.5 && progress.current < 0.5 + (delta * speed)) {\r\n                // Trigger state change exactly once when crossing 0.5\r\n                commitSectionChange();\r\n            }\r\n\r\n            // End trigger\r\n            if (progress.current >= 1) {\r\n                progress.current = 0;\r\n                setAnimating(false);\r\n            }\r\n        }\r\n\r\n        if (shaderRef.current) {\r\n            shaderRef.current.uniforms.uProgress.value = progress.current;\r\n            shaderRef.current.uniforms.uResolution.value.set(viewport.width, viewport.height);\r\n        }\r\n    });\r\n\r\n    // Full viewport plane\r\n    return (\r\n        <Plane args={[viewport.width, viewport.height]} position={[0, 0, 0]}>\r\n            <shaderMaterial\r\n                ref={shaderRef}\r\n                args={[WipeShaderMaterial]}\r\n                transparent\r\n                depthTest={false}\r\n            />\r\n        </Plane>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AACA;AACA;AACA;;;;;;;;AAEA,MAAM,qBAAqB;IACvB,UAAU;QACN,OAAO;YAAE,OAAO;QAAE;QAClB,WAAW;YAAE,OAAO;QAAE;QACtB,QAAQ;YAAE,OAAO,IAAI,2JAAW,CAAC;QAAW;QAC5C,aAAa;YAAE,OAAO,IAAI,6JAAa,CAAC,GAAG;QAAG;IAClD;IACA,cAAc,CAAC;;;;;;EAMjB,CAAC;IACC,gBAAgB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA0EnB,CAAC;AACH;AAEO,SAAS;;IACZ,MAAM,UAAU,IAAA,uKAAM,EAAa;IACnC,MAAM,YAAY,IAAA,uKAAM,EAAuB;IAC/C,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,8NAAQ;IAC7B,MAAM,cAAc,IAAA,uIAAQ;4CAAC,CAAC,QAAU,MAAM,WAAW;;IACzD,MAAM,eAAe,IAAA,uIAAQ;6CAAC,CAAC,QAAU,MAAM,YAAY;;IAE3D,kBAAkB;IAClB,MAAM,WAAW,IAAA,uKAAM,EAAC;IACxB,MAAM,QAAQ,KAAK,4BAA4B;IAE/C,IAAA,8NAAQ;+BAAC,CAAC,OAAO;YACb,uDAAuD;YACvD,IAAI,CAAC,aAAa;gBACd,IAAI,SAAS,OAAO,KAAK,GAAG;oBACxB,SAAS,OAAO,GAAG;oBACnB,IAAI,UAAU,OAAO,EAAE;wBACnB,UAAU,OAAO,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,GAAG;oBACjD;gBACJ;gBACA;YACJ;YAEA,IAAI,aAAa;gBACb,SAAS,OAAO,IAAI,QAAQ;gBAE5B,mBAAmB;gBACnB,IAAI,SAAS,OAAO,IAAI,OAAO,SAAS,OAAO,GAAG,MAAO,QAAQ,OAAQ;oBACrE,sDAAsD;oBACtD,IAAA,kJAAmB;gBACvB;gBAEA,cAAc;gBACd,IAAI,SAAS,OAAO,IAAI,GAAG;oBACvB,SAAS,OAAO,GAAG;oBACnB,aAAa;gBACjB;YACJ;YAEA,IAAI,UAAU,OAAO,EAAE;gBACnB,UAAU,OAAO,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,GAAG,SAAS,OAAO;gBAC7D,UAAU,OAAO,CAAC,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,KAAK,EAAE,SAAS,MAAM;YACpF;QACJ;;IAEA,sBAAsB;IACtB,qBACI,6LAAC,sKAAK;QAAC,MAAM;YAAC,SAAS,KAAK;YAAE,SAAS,MAAM;SAAC;QAAE,UAAU;YAAC;YAAG;YAAG;SAAE;kBAC/D,cAAA,6LAAC;YACG,KAAK;YACL,MAAM;gBAAC;aAAmB;YAC1B,WAAW;YACX,WAAW;;;;;;;;;;;AAI3B;GAxDgB;;QAGS,8NAAQ;QACT,uIAAQ;QACP,uIAAQ;QAM7B,8NAAQ;;;KAXI"}},
    {"offset": {"line": 540, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/Create/src/components/Three/TransitionCanvas.tsx"],"sourcesContent":["import { Canvas } from '@react-three/fiber';\r\nimport { WipeEffect } from './WipeEffect';\r\nimport { Suspense } from 'react';\r\n\r\nexport default function TransitionCanvas() {\r\n    return (\r\n        <div style={{\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            width: '100vw',\r\n            height: '100vh',\r\n            zIndex: 9999, // High z-index to sit on top of content\r\n            pointerEvents: 'none', // Allow clicks to pass through when transparent\r\n        }}>\r\n            <Canvas orthographic camera={{ zoom: 1, position: [0, 0, 10] }}>\r\n                <Suspense fallback={null}>\r\n                    <WipeEffect />\r\n                </Suspense>\r\n            </Canvas>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEe,SAAS;IACpB,qBACI,6LAAC;QAAI,OAAO;YACR,UAAU;YACV,KAAK;YACL,MAAM;YACN,OAAO;YACP,QAAQ;YACR,QAAQ;YACR,eAAe;QACnB;kBACI,cAAA,6LAAC,gNAAM;YAAC,YAAY;YAAC,QAAQ;gBAAE,MAAM;gBAAG,UAAU;oBAAC;oBAAG;oBAAG;iBAAG;YAAC;sBACzD,cAAA,6LAAC,yKAAQ;gBAAC,UAAU;0BAChB,cAAA,6LAAC,0JAAU;;;;;;;;;;;;;;;;;;;;AAK/B;KAlBwB"}},
    {"offset": {"line": 606, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/Create/src/components/SectionManager.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useEffect, useRef, WheelEvent, useState } from 'react';\r\nimport { useStore } from '@/store/useStore';\r\nimport TransitionCanvas from './Three/TransitionCanvas';\r\n\r\ninterface SectionManagerProps {\r\n    children: React.ReactNode[];\r\n}\r\n\r\nexport default function SectionManager({ children }: SectionManagerProps) {\r\n    const { currentSection, nextSection, prevSection, setTotalSections, isAnimating } = useStore();\r\n    const touchStartY = useRef(0);\r\n    const containerRef = useRef<HTMLDivElement>(null);\r\n\r\n    // Initialize\r\n    useEffect(() => {\r\n        setTotalSections(children.length);\r\n    }, [children.length, setTotalSections]);\r\n\r\n    // Helper to check if current section is scrollable and at edge\r\n    const checkScroll = (direction: 'up' | 'down', element: HTMLElement) => {\r\n        // Tolerance for float inconsistencies\r\n        const tolerance = 2;\r\n\r\n        if (direction === 'down') {\r\n            const isAtBottom = Math.abs((element.scrollHeight - element.scrollTop) - element.clientHeight) < tolerance;\r\n            return isAtBottom;\r\n        } else {\r\n            const isAtTop = element.scrollTop < tolerance;\r\n            return isAtTop;\r\n        }\r\n    };\r\n\r\n    // Global Event Listeners\r\n    useEffect(() => {\r\n        let touchStartY = 0;\r\n\r\n        const handleWheel = (e: WheelEvent) => {\r\n            if (useStore.getState().isAnimating) return;\r\n\r\n            // Check if we are scrolling an internal element that has overflow\r\n            // We can check e.target\r\n            const target = e.target as HTMLElement;\r\n\r\n            // Simple check: does the target (or parents) have scrollable area?\r\n            // For now, let's just use our \"active section\" logic if generic robustness is hard.\r\n            // But relying on e.target is better for partial scrolling.\r\n            // However, our design is full-screen sections.\r\n\r\n            // Re-using the logic, but we need access to the current active element.\r\n            // We can get it via the containerRef and store state, \r\n            // BUT store state in useEffect listener is stale unless we use refs or useStore.getState()\r\n\r\n            const currentSectionIndex = useStore.getState().currentSection;\r\n            const container = containerRef.current;\r\n            if (!container) return;\r\n\r\n            const activeSection = container.children[currentSectionIndex] as HTMLElement;\r\n            if (!activeSection) return;\r\n\r\n            const isScrollable = activeSection.scrollHeight > activeSection.clientHeight;\r\n\r\n            // Helper\r\n            const checkScroll = (direction: 'up' | 'down') => {\r\n                const tolerance = 2;\r\n                if (direction === 'down') {\r\n                    return Math.abs((activeSection.scrollHeight - activeSection.scrollTop) - activeSection.clientHeight) < tolerance;\r\n                } else {\r\n                    return activeSection.scrollTop < tolerance;\r\n                }\r\n            };\r\n\r\n            if (e.deltaY > 5) { // Down\r\n                if (!isScrollable || checkScroll('down')) {\r\n                    useStore.getState().nextSection();\r\n                }\r\n            } else if (e.deltaY < -5) { // Up\r\n                if (!isScrollable || checkScroll('up')) {\r\n                    useStore.getState().prevSection();\r\n                }\r\n            }\r\n        };\r\n\r\n        const handleTouchStart = (e: TouchEvent) => {\r\n            touchStartY = e.touches[0].clientY;\r\n        };\r\n\r\n        const handleTouchEnd = (e: TouchEvent) => {\r\n            if (useStore.getState().isAnimating) return;\r\n\r\n            const touchEndY = e.changedTouches[0].clientY;\r\n            const diff = touchStartY - touchEndY;\r\n\r\n            const currentSectionIndex = useStore.getState().currentSection;\r\n            const container = containerRef.current;\r\n            if (!container) return;\r\n            const activeSection = container.children[currentSectionIndex] as HTMLElement;\r\n            if (!activeSection) return;\r\n\r\n            const isScrollable = activeSection.scrollHeight > activeSection.clientHeight;\r\n\r\n            const checkScroll = (direction: 'up' | 'down') => {\r\n                const tolerance = 2;\r\n                if (direction === 'down') {\r\n                    return Math.abs((activeSection.scrollHeight - activeSection.scrollTop) - activeSection.clientHeight) < tolerance;\r\n                } else {\r\n                    return activeSection.scrollTop < tolerance;\r\n                }\r\n            };\r\n\r\n            if (diff > 5) { // Swipe Up -> Next\r\n                if (!isScrollable || checkScroll('down')) {\r\n                    useStore.getState().nextSection();\r\n                }\r\n            } else if (diff < -5) { // Swipe Down -> Prev\r\n                if (!isScrollable || checkScroll('up')) {\r\n                    useStore.getState().prevSection();\r\n                }\r\n            }\r\n        };\r\n\r\n        window.addEventListener('wheel', handleWheel, { passive: false });\r\n        window.addEventListener('touchstart', handleTouchStart, { passive: false });\r\n        window.addEventListener('touchend', handleTouchEnd, { passive: false });\r\n\r\n        return () => {\r\n            window.removeEventListener('wheel', handleWheel);\r\n            window.removeEventListener('touchstart', handleTouchStart);\r\n            window.removeEventListener('touchend', handleTouchEnd);\r\n        };\r\n    }, []); // Empty dependency array = mount once. We use useStore.getState() to get fresh values.\r\n\r\n    // We need to disable native scroll on the body\r\n    useEffect(() => {\r\n        document.body.style.overflow = 'hidden';\r\n        return () => {\r\n            document.body.style.overflow = 'auto';\r\n        };\r\n    }, []);\r\n\r\n    // Additional effect: When section changes, reset scroll of the NEW section? \r\n    // Usually good practice, though absolute positioning might keep them fresh if unmounted. \r\n    // But here they are always mounted.\r\n    useEffect(() => {\r\n        const activeSection = containerRef.current?.children[currentSection] as HTMLElement;\r\n        if (activeSection) {\r\n            activeSection.scrollTop = 0;\r\n        }\r\n    }, [currentSection]);\r\n\r\n\r\n    return (\r\n        <>\r\n            <TransitionCanvas />\r\n\r\n            <div\r\n                ref={containerRef}\r\n                style={{\r\n                    height: '100vh',\r\n                    width: '100vw',\r\n                    overflow: 'hidden',\r\n                    position: 'relative',\r\n                    zIndex: 1,\r\n                    backgroundColor: '#111', // Ensure background is dark\r\n                }}\r\n            >\r\n                {React.Children.map(children, (child, index) => (\r\n                    <div\r\n                        key={index}\r\n                        style={{\r\n                            position: 'absolute',\r\n                            top: 0,\r\n                            left: 0,\r\n                            width: '100%',\r\n                            height: '100%',\r\n                            // Allow internal scrolling\r\n                            overflowY: 'auto',\r\n                            // Hide scrollbar for aesthetics\r\n                            scrollbarWidth: 'none',\r\n                            msOverflowStyle: 'none',\r\n\r\n                            // Visibility Logic\r\n                            opacity: currentSection === index ? 1 : 0,\r\n                            // removed visibility: hidden to ensure videos keep playing/buffering\r\n                            pointerEvents: currentSection === index ? 'auto' : 'none',\r\n                            zIndex: currentSection === index ? 10 : 0,\r\n                            transition: 'opacity 0.1s linear',\r\n                        }}\r\n                    >\r\n                        {/* Hide scrollbar for Chrome/Safari */}\r\n                        <style jsx>{`\r\n                            div::-webkit-scrollbar {\r\n                                display: none;\r\n                            }\r\n                        `}</style>\r\n                        {child}\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}